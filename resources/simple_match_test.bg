namespace simple_match_test

enum Result {
    Ok { value },
    Err { error }
}

fn test-match(r) {
    match r {
        Result.Ok { value } => {
            println("Got Ok:", value)
            value
        },
        Result.Err { error } => {
            println("Got Err:", error)
            0
        }
    }
}

fn main() {
    println("Testing Ok variant:")
    let ok_result = Result.Ok { value: 42 }
    test-match(ok_result)

    println("Testing Err variant:")
    let err_result = Result.Err { error: "oops" }
    test-match(err_result)

    println("done")
}

// Expect
// Testing Ok variant:
// Got Ok: 42
// Testing Err variant:
// Got Err: oops
// done
