namespace struct_redefine_reorder_test

struct Point { x, y }

fn main() {
    // Create object with original definition
    let p = Point { x: 10, y: 20 }
    println(p.x)
    println(p.y)

    // Redefine Point with fields reordered
    eval("struct Point { y, x }")

    // Old object: fields still return correct values despite reorder
    println(p.x)
    println(p.y)

    // New object has reordered layout
    eval("
        let p2 = Point { y: 200, x: 100 }
        println(p2.x)
        println(p2.y)
    ")
}

// @beagle.core.snapshot
// 10
// 20
// 10
// 20
// 100
// 200
