namespace macros_test

import "beagle.ast" as ast

fn main() {
    // Test basic quote - creates an AST representing 1
    let expr = quote { 1 }
    println(expr)

    // Test quote with identifier
    let id_expr = quote { foo }
    println(id_expr)

    // Test quote with addition
    let add_expr = quote { 1 + 2 }
    println(add_expr)

    // Test quote with arrow pair (for macro-friendly syntax)
    let arrow = quote { condition => body }
    println(arrow)

    // Test quote with function call
    let call = quote { println(x) }
    println(call)

    println("done")
}

// Expect
// Ast.IntegerLiteral { value: 1 }
// Ast.Identifier { name: "foo" }
// Ast.Add { left: Ast.IntegerLiteral { value: 1 }, right: Ast.IntegerLiteral { value: 2 } }
// Ast.ArrowPair { ap_left: Ast.Identifier { name: "condition" }, ap_right: Ast.Identifier { name: "body" } }
// Ast.Call { call_target: "println", call_arguments: [Ast.Identifier { name: "x" }] }
// done
