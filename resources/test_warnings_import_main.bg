namespace test_warnings_import_main

use test_warnings_import_dependency as dep
enum Shape {
    Circle,
    Square,
}

fn main() {
    let s = Shape.Circle
    match s {
        Shape.Circle => "circle",
        // Missing Square - should generate 1 diagnostic
    }

    let diags = diagnostics()
    println("Diagnostic count from main + imported file:")
    println(length(diags))

    // Verify we have exactly 2 diagnostics (1 from dependency, 1 from main)
    let count = length(diags)
    if count == 2 {
        println("PASS: Got 2 diagnostics as expected")
    } else {
        println("FAIL: Expected 2 diagnostics, got:")
        println(count)
    }

    "done"
}

// Expect
// Diagnostic count from main + imported file:
// 2
// PASS: Got 2 diagnostics as expected
